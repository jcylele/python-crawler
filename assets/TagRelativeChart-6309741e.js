import{m as C,j as f,A as c,_ as x,o as i,c as _,w as o,r as s,b as h,d as y,f as v,g as T,F as k,q as b}from"./index-1be7bb4c.js";import{aa as A,i as B,u as N,a as V,b as $,c as w,d as L,e as R,f as E,h as F}from"./ChartCtrl-de272f0f.js";import{i as I}from"./install-19843e75.js";N([V,$,I,w,L,R,E,F]);const S={name:"TagRelativeChart",data(){return{cur_tag_id:0,count_list:[],tagChart:void 0,chart_option:{xAxis:{type:"value"},yAxis:{type:"category",data:[]},series:[{type:"bar",data:[],color:[]}]}}},computed:{...C(c,{actor_tag_list:"sorted_list"})},methods:{...f(c,{getTagName:"getName"}),async onCheckedTagChange(){const[t,a]=await A(this.cur_tag_id);t&&(this.count_list=Array.from(a),this.count_list.sort((l,n)=>l[1]-n[1]),this.count_list=this.count_list.slice(-11),this.refreshChart())},refreshChart(){this.chart_option.yAxis.data=this.count_list.map(t=>this.getTagName(t[0])),this.chart_option.series[0].data=this.count_list.map(t=>t[1]),this.tagChart.setOption(this.chart_option)},onChartClick(t){const a=this.count_list[t.dataIndex][0];this.cur_tag_id=a,this.onCheckedTagChange()}},mounted(){this.tagChart=B(document.getElementById("tag_relatives")),this.tagChart.on("click",this.onChartClick)}},U=b("div",{id:"tag_relatives",style:{width:"840px",height:"420px"}},null,-1);function j(t,a,l,n,r,d){const g=s("el-text"),u=s("el-option"),p=s("el-select"),m=s("el-space");return i(),_(m,{direction:"vertical",alignment:"flex-start"},{default:o(()=>[h(g,{style:{"font-size":"24px"}},{default:o(()=>[y(" Choose Tag ")]),_:1}),h(p,{modelValue:r.cur_tag_id,"onUpdate:modelValue":a[0]||(a[0]=e=>r.cur_tag_id=e),onChange:d.onCheckedTagChange,style:{width:"120px"},filterable:"",clearable:""},{default:o(()=>[(i(!0),v(k,null,T(t.actor_tag_list,e=>(i(),_(u,{key:e.tag_id,label:e.tag_name,value:e.tag_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),U]),_:1})}const D=x(S,[["render",j]]);export{D as default};
