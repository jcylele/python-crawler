import{K as C,j as x,a as v,L as S,k as f,_ as U,o as s,f as k,b as e,w as t,e as h,r as n,d as i,m as D,M as F,N as z,O as B,l as R,c as y}from"./index-1be7bb4c.js";const H={name:"NewActorGroup",emits:["group_added"],data(){return{new_actor_group:new C,show_add:!1}},methods:{...x(v,{addActorGroup:"add"}),showAdd(d){this.show_add=d},async onAddActorGroup(){const[d,r]=await S(this.new_actor_group);d&&(this.new_actor_group=new C,this.show_add=!1,this.addActorGroup(r),f("add succeed"),this.$emit("group_added"))}}},O={style:{border:"1px solid","border-radius":"4px",padding:"3px"}},P={key:0},j={key:1};function E(d,r,c,N,u,p){const m=n("el-button"),w=n("el-input"),a=n("el-form-item"),V=n("el-input-number"),A=n("el-switch"),G=n("el-color-picker"),g=n("el-space"),b=n("el-form");return s(),k("div",O,[u.show_add?h("",!0):(s(),k("div",P,[e(m,{type:"default",onClick:r[0]||(r[0]=_=>p.showAdd(!0))},{default:t(()=>[i(" Add New Actor Group ")]),_:1})])),u.show_add?(s(),k("div",j,[e(b,{model:u.new_actor_group,"label-width":"auto"},{default:t(()=>[e(a,{label:"Name"},{default:t(()=>[e(w,{modelValue:u.new_actor_group.group_name,"onUpdate:modelValue":r[1]||(r[1]=_=>u.new_actor_group.group_name=_)},null,8,["modelValue"])]),_:1}),e(a,{label:"Desc"},{default:t(()=>[e(w,{modelValue:u.new_actor_group.group_desc,"onUpdate:modelValue":r[2]||(r[2]=_=>u.new_actor_group.group_desc=_)},null,8,["modelValue"])]),_:1}),e(a,{label:"Priority"},{default:t(()=>[e(V,{modelValue:u.new_actor_group.group_priority,"onUpdate:modelValue":r[3]||(r[3]=_=>u.new_actor_group.group_priority=_),min:0,max:100,step:10},null,8,["modelValue"])]),_:1}),e(a,{label:"Has Folder"},{default:t(()=>[e(A,{modelValue:u.new_actor_group.has_folder,"onUpdate:modelValue":r[4]||(r[4]=_=>u.new_actor_group.has_folder=_)},null,8,["modelValue"])]),_:1}),e(a,{label:"Color"},{default:t(()=>[e(G,{modelValue:u.new_actor_group.group_color,"onUpdate:modelValue":r[5]||(r[5]=_=>u.new_actor_group.group_color=_)},null,8,["modelValue"])]),_:1}),e(a,null,{default:t(()=>[e(g,{direction:"horizontal"},{default:t(()=>[e(a,null,{default:t(()=>[e(m,{type:"primary",onClick:p.onAddActorGroup},{default:t(()=>[i("Add")]),_:1},8,["onClick"])]),_:1}),e(a,null,{default:t(()=>[e(m,{type:"warning",onClick:r[6]||(r[6]=_=>p.showAdd(!1))},{default:t(()=>[i("Cancel")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])):h("",!0)])}const I=U(H,[["render",E]]),K={name:"ActorGroups",components:{NewActorGroup:I},data(){return{new_actor_group:new C}},computed:{...D(v,{actor_group_list:"sorted_list"})},methods:{...x(v,{getGroupsFromServer:"getFromServer",updateGroup:"update",removeGroup:"remove"}),onNewGroupAdded(){},async onSaveActorGroup(d){const[r,c]=await F(d);r&&(this.updateGroup(c),f("save succeed"))},async onResetActorGroup(d){const[r,c]=await z(d.group_id);r&&(this.updateGroup(c),f("reset succeed"))},async onDeleteActorGroup(d){const[r,c]=await B(d.group_id);r&&(c?(this.removeGroup(d.group_id),f("delete group succeed")):R("delete group failed, maybe has actors in it"))}},async mounted(){await this.getGroupsFromServer()}};function L(d,r,c,N,u,p){const m=n("NewActorGroup"),w=n("el-input"),a=n("el-table-column"),V=n("el-input-number"),A=n("el-switch"),G=n("el-color-picker"),g=n("el-button"),b=n("el-table"),_=n("el-space");return s(),y(_,{direction:"vertical",fill:!0,style:{width:"100%"}},{default:t(()=>[e(m,{onGroup_added:p.onNewGroupAdded},null,8,["onGroup_added"]),e(b,{data:d.actor_group_list,"row-key":"uuid"},{default:t(()=>[e(a,{label:"Name","min-width":"100px"},{default:t(o=>[e(w,{modelValue:o.row.group_name,"onUpdate:modelValue":l=>o.row.group_name=l,onChange:l=>o.row.changed=!0},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(a,{label:"Desc","min-width":"300px"},{default:t(o=>[e(w,{modelValue:o.row.group_desc,"onUpdate:modelValue":l=>o.row.group_desc=l,onChange:l=>o.row.changed=!0},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(a,{label:"Priority","min-width":"200px"},{default:t(o=>[e(V,{modelValue:o.row.group_priority,"onUpdate:modelValue":l=>o.row.group_priority=l,min:0,max:100,onChange:l=>o.row.changed=!0},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(a,{label:"Has Folder","min-width":"100px"},{default:t(o=>[e(A,{modelValue:o.row.has_folder,"onUpdate:modelValue":l=>o.row.has_folder=l,onChange:l=>o.row.changed=!0},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(a,{label:"Color","min-width":"100px"},{default:t(o=>[e(G,{modelValue:o.row.group_color,"onUpdate:modelValue":l=>o.row.group_color=l,onChange:l=>o.row.changed=!0},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(a,{label:"Operations","min-width":"400px"},{default:t(o=>[o.row.changed?(s(),y(g,{key:0,type:"primary",size:"default",onClick:l=>p.onSaveActorGroup(o.row)},{default:t(()=>[i(" Save ")]),_:2},1032,["onClick"])):h("",!0),o.row.changed?(s(),y(g,{key:1,type:"warning",size:"default",onClick:l=>p.onResetActorGroup(o.row)},{default:t(()=>[i(" Reset ")]),_:2},1032,["onClick"])):h("",!0),e(g,{type:"danger",size:"default",onClick:l=>p.onDeleteActorGroup(o.row)},{default:t(()=>[i(" Delete ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})}const T=U(K,[["render",L]]);export{T as default};
