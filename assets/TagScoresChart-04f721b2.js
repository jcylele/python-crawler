import{m as St,A as Ct,_ as _t,o as ee,c as xe,w as te,r as Z,b as Ae,d as Lt,f as Mt,g as wt,F as Dt,q as Tt}from"./index-2b6b099b.js";import{S as B,e as L,c as le,a as It,b as Ke,i as z,d as Je,m as kt,p as Et,f as Pt,g as Ot,h as W,j as Bt,C as Nt,k as P,l as Rt,n as Qe,o as H,q as et,r as Vt,s as Gt,t as Ft,u as be,v as O,w as Se,R as Y,x as V,y as ge,z as zt,_ as T,A as tt,B as Wt,P as rt,D as Ce,E as Ht,F as Yt,G,H as Zt,I as Xt,J as _e,K as at,L as de,M as $t,N as pe,O as Ut,Q as jt,T as qt,U as Kt,V as Jt,W as Qt,X as er,Y as tr,Z as rr,$ as nt,a0 as ar,a1 as N,a2 as j,a3 as nr,a4 as ir,a5 as or,a6 as sr,a7 as lr,a8 as ur,a9 as Le,aa as Me,ab as cr,ac as hr,ad as re,ae as vr,af as fr,ag as gr,ah as ae,ai as dr,aj as we,ak as De,al as pr,am as mr,an as yr,ao as ue,ap as Te,aq as xr,ar as Ar,as as br,at as Sr,au as Ie,av as ke,aw as Cr,ax as ce,ay as _r,az as Lr,aA as Mr,aB as wr,aC as Dr,aD as Tr,aE as Ir,aF as kr,aG as Er}from"./ChartCtrl-f47a70e1.js";import{a as Pr}from"./Consts-b58d017b.js";import"./Enums-e33e938b.js";var Or=function(){function r(e){this.coordSysDims=[],this.axisMap=le(),this.categoryAxisMap=le(),this.coordSysName=e}return r}();function Br(r){var e=r.get("coordinateSystem"),t=new Or(e),a=Nr[e];if(a)return a(r,t,t.axisMap,t.categoryAxisMap),t}var Nr={cartesian2d:function(r,e,t,a){var n=r.getReferringComponents("xAxis",B).models[0],i=r.getReferringComponents("yAxis",B).models[0];e.coordSysDims=["x","y"],t.set("x",n),t.set("y",i),R(n)&&(a.set("x",n),e.firstCategoryDimIndex=0),R(i)&&(a.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,a){var n=r.getReferringComponents("singleAxis",B).models[0];e.coordSysDims=["single"],t.set("single",n),R(n)&&(a.set("single",n),e.firstCategoryDimIndex=0)},polar:function(r,e,t,a){var n=r.getReferringComponents("polar",B).models[0],i=n.findAxisModel("radiusAxis"),o=n.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",o),R(i)&&(a.set("radius",i),e.firstCategoryDimIndex=0),R(o)&&(a.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,a){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,a){var n=r.ecModel,i=n.getComponent("parallel",r.get("parallelIndex")),o=e.coordSysDims=i.dimensions.slice();L(i.parallelAxisIndex,function(s,u){var l=n.getComponent("parallelAxis",s),c=o[u];t.set(c,l),R(l)&&(a.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function R(r){return r.get("type")==="category"}function Rr(r,e){var t=r.get("coordinateSystem"),a=Nt.get(t),n;return e&&e.coordSysDims&&(n=P(e.coordSysDims,function(i){var o={name:i},s=e.axisMap.get(i);if(s){var u=s.get("type");o.type=Rt(u)}return o})),n||(n=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),n}function Vr(r,e,t){var a,n;return t&&L(r,function(i,o){var s=i.coordDim,u=t.categoryAxisMap.get(s);u&&(a==null&&(a=o),i.ordinalMeta=u.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(n=!0)}),!n&&a!=null&&(r[a].otherDims.itemName=0),a}function it(r,e,t){t=t||{};var a=e.getSourceManager(),n,i=!1;r?(i=!0,n=It(r)):(n=a.getSource(),i=n.sourceFormat===Ke);var o=Br(e),s=Rr(e,o),u=t.useEncodeDefaulter,l=z(u)?u:u?Je(kt,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},h=Et(n,c),g=Vr(h.dimensions,t.createInvertedIndices,o),f=i?null:a.getSharedDataStore(h),v=Pt(e,{schema:h,store:f}),d=new Ot(h,e);d.setCalculationInfo(v);var p=g!=null&&Gr(n)?function(A,y,m,x){return x===g?m:this.defaultDimValueGetter(A,y,m,x)}:null;return d.hasItemOption=!1,d.initData(i?n:f,null,p),d}function Gr(r){if(r.sourceFormat===Ke){var e=Fr(r.data||[]);return!W(Bt(e))}}function Fr(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var zr=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}(),F=Qe();function ot(r,e){var t=P(e,function(a){return r.scale.parse(a)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Wr(r){var e=r.getLabelModel().get("customValues");if(e){var t=H(r);return{labels:ot(r,e).map(function(a){var n={value:a};return{formattedLabel:t(n),rawLabel:r.scale.getLabel(n),tickValue:a}})}}return r.type==="category"?Yr(r):Xr(r)}function Hr(r,e){var t=r.getTickModel().get("customValues");return t?{ticks:ot(r,t)}:r.type==="category"?Zr(r,e):{ticks:P(r.scale.getTicks(),function(a){return a.value})}}function Yr(r){var e=r.getLabelModel(),t=st(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function st(r,e){var t=lt(r,"labels"),a=et(e),n=ut(t,a);if(n)return n;var i,o;return z(a)?i=vt(r,a):(o=a==="auto"?$r(r):a,i=ht(r,o)),ct(t,a,{labels:i,labelCategoryInterval:o})}function Zr(r,e){var t=lt(r,"ticks"),a=et(e),n=ut(t,a);if(n)return n;var i,o;if((!e.get("show")||r.scale.isBlank())&&(i=[]),z(a))i=vt(r,a,!0);else if(a==="auto"){var s=st(r,r.getLabelModel());o=s.labelCategoryInterval,i=P(s.labels,function(u){return u.tickValue})}else o=a,i=ht(r,o,!0);return ct(t,a,{ticks:i,tickCategoryInterval:o})}function Xr(r){var e=r.scale.getTicks(),t=H(r);return{labels:P(e,function(a,n){return{level:a.level,formattedLabel:t(a,n),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function lt(r,e){return F(r)[e]||(F(r)[e]=[])}function ut(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function ct(r,e,t){return r.push({key:e,value:t}),t}function $r(r){var e=F(r).autoInterval;return e??(F(r).autoInterval=r.calculateCategoryInterval())}function Ur(r){var e=jr(r),t=H(r),a=(e.axisRotate-e.labelRotate)/180*Math.PI,n=r.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=i[0],l=r.dataToCoord(u+1)-r.dataToCoord(u),c=Math.abs(l*Math.cos(a)),h=Math.abs(l*Math.sin(a)),g=0,f=0;u<=i[1];u+=s){var v=0,d=0,p=Vt(t({value:u}),e.font,"center","top");v=p.width*1.3,d=p.height*1.3,g=Math.max(g,v,7),f=Math.max(f,d,7)}var A=g/c,y=f/h;isNaN(A)&&(A=1/0),isNaN(y)&&(y=1/0);var m=Math.max(0,Math.floor(Math.min(A,y))),x=F(r.model),b=r.getExtent(),S=x.lastAutoInterval,_=x.lastTickCount;return S!=null&&_!=null&&Math.abs(S-m)<=1&&Math.abs(_-o)<=1&&S>m&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?m=S:(x.lastTickCount=o,x.lastAutoInterval=m,x.axisExtent0=b[0],x.axisExtent1=b[1]),m}function jr(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function ht(r,e,t){var a=H(r),n=r.scale,i=n.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=i[0],c=n.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=Gt(r),g=o.get("showMinLabel")||h,f=o.get("showMaxLabel")||h;g&&l!==i[0]&&d(i[0]);for(var v=l;v<=i[1];v+=u)d(v);f&&v-u!==i[1]&&d(i[1]);function d(p){var A={value:p};s.push(t?p:{formattedLabel:a(A),rawLabel:n.getLabel(A),tickValue:p})}return s}function vt(r,e,t){var a=r.scale,n=H(r),i=[];return L(a.getTicks(),function(o){var s=a.getLabel(o),u=o.value;e(o.value,s)&&i.push(t?u:{formattedLabel:n(o),rawLabel:s,tickValue:u})}),i}var Ee=[0,1],qr=function(){function r(e,t,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=a||[0,0]}return r.prototype.contain=function(e){var t=this._extent,a=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=a&&e<=n},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return Ft(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var a=this._extent;a[0]=e,a[1]=t},r.prototype.dataToCoord=function(e,t){var a=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&n.type==="ordinal"&&(a=a.slice(),Pe(a,n.count())),be(e,Ee,a,t)},r.prototype.coordToData=function(e,t){var a=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(a=a.slice(),Pe(a,n.count()));var i=be(e,a,Ee,t);return this.scale.scale(i)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=Hr(this,t),n=a.ticks,i=P(n,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return Kr(this,i,o,e.clamp),i},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),n=P(a,function(i){return P(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return n},r.prototype.getViewLabels=function(){return Wr(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);a===0&&(a=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/a},r.prototype.calculateCategoryInterval=function(){return Ur(this)},r}();function Pe(r,e){var t=r[1]-r[0],a=e,n=t/a/2;r[0]+=n,r[1]-=n}function Kr(r,e,t,a){var n=e.length;if(!r.onBand||t||!n)return;var i=r.getExtent(),o,s;if(n===1)e[0].coord=i[0],o=e[1]={coord:i[1]};else{var u=e[n-1].tickValue-e[0].tickValue,l=(e[n-1].coord-e[0].coord)/u;L(e,function(f){f.coord-=l/2});var c=r.scale.getExtent();s=1+c[1]-e[n-1].tickValue,o={coord:e[n-1].coord+l*s},e.push(o)}var h=i[0]>i[1];g(e[0].coord,i[0])&&(a?e[0].coord=i[0]:e.shift()),a&&g(i[0],e[0].coord)&&e.unshift({coord:i[0]}),g(i[1],o.coord)&&(a?o.coord=i[1]:e.pop()),a&&g(o.coord,i[1])&&e.push({coord:i[1]});function g(f,v){return f=O(f),v=O(v),h?f>v:f<v}}const Jr=qr;function Qr(r,e){var t=r.mapDimensionsAll("defaultedLabel"),a=t.length;if(a===1){var n=Se(r,e,t[0]);return n!=null?n+"":null}else if(a){for(var i=[],o=0;o<t.length;o++)i.push(Se(r,e,t[o]));return i.join(" ")}}function ea(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!W(e))return e+"";for(var a=[],n=0;n<t.length;n++){var i=r.getDimensionIndex(t[n]);i>=0&&a.push(e[i])}return a.join(" ")}function ta(r,e,t,a,n){var i=r.getArea(),o=i.x,s=i.y,u=i.width,l=i.height,c=t.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,u+=c,l+=c,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var h=new Y({shape:{x:o,y:s,width:u,height:l}});if(e){var g=r.getBaseAxis(),f=g.isHorizontal(),v=g.inverse;f?(v&&(h.shape.x+=u),h.shape.width=0):(v||(h.shape.y+=l),h.shape.height=0);var d=z(n)?function(p){n(p,h)}:null;V(h,{shape:{width:u,height:l,x:o,y:s}},t,null,a,d)}return h}function ra(r,e,t){var a=r.getArea(),n=O(a.r0,1),i=O(a.r,1),o=new ge({shape:{cx:O(r.cx,1),cy:O(r.cy,1),r0:n,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(e){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=n,V(o,{shape:{endAngle:a.endAngle,r:i}},t)}return o}function aa(r,e,t,a,n){if(r){if(r.type==="polar")return ra(r,e,t);if(r.type==="cartesian2d")return ta(r,e,t,a,n)}else return null;return null}function ft(r,e){return r.type===e}var na={average:function(r){for(var e=0,t=0,a=0;a<r.length;a++)isNaN(r[a])||(e+=r[a],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},minmax:function(r){for(var e=-1/0,t=-1/0,a=0;a<r.length;a++){var n=r[a],i=Math.abs(n);i>e&&(e=i,t=n)}return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},ia=function(r){return Math.round(r.length/2)};function oa(r){return{seriesType:r,reset:function(e,t,a){var n=e.getData(),i=e.get("sampling"),o=e.coordinateSystem,s=n.count();if(s>10&&o.type==="cartesian2d"&&i){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),h=a.getDevicePixelRatio(),g=Math.abs(c[1]-c[0])*(h||1),f=Math.round(s/g);if(isFinite(f)&&f>1){i==="lttb"&&e.setData(n.lttbDownSample(n.mapDimension(l.dim),1/f));var v=void 0;zt(i)?v=na[i]:z(i)&&(v=i),v&&e.setData(n.downSample(n.mapDimension(l.dim),1/f,v,ia))}}}}}var gt=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,a){return it(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,a,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(t),s=i.dataToPoint(o);if(n)L(i.getAxes(),function(g,f){if(g.type==="category"&&a!=null){var v=g.getTicksCoords(),d=g.getTickModel().get("alignWithLabel"),p=o[f],A=a[f]==="x1"||a[f]==="y1";if(A&&!d&&(p+=1),v.length<2)return;if(v.length===2){s[f]=g.toGlobalCoord(g.getExtent()[A?1:0]);return}for(var y=void 0,m=void 0,x=1,b=0;b<v.length;b++){var S=v[b].coord,_=b===v.length-1?v[b-1].tickValue+x:v[b].tickValue;if(_===p){m=S;break}else if(_<p)y=S;else if(y!=null&&_>p){m=(S+y)/2;break}b===1&&(x=_-v[0].tickValue)}m==null&&(y?y&&(m=v[v.length-1].coord):m=v[0].coord),s[f]=g.toGlobalCoord(m)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;s[h]+=l+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(tt);tt.registerClass(gt);const Oe=gt;var sa=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return it(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>t&&(t=a),t},e.prototype.brushSelector=function(t,a,n){return n.rect(a.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Wt(Oe.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Oe);const la=sa;var ua=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),ca=function(r){T(e,r);function e(t){var a=r.call(this,t)||this;return a.type="sausage",a}return e.prototype.getDefaultShape=function(){return new ua},e.prototype.buildPath=function(t,a){var n=a.cx,i=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),u=(s-o)*.5,l=o+u,c=a.startAngle,h=a.endAngle,g=a.clockwise,f=Math.PI*2,v=g?h-c<f:c-h<f;v||(c=h-(g?f:-f));var d=Math.cos(c),p=Math.sin(c),A=Math.cos(h),y=Math.sin(h);v?(t.moveTo(d*o+n,p*o+i),t.arc(d*l+n,p*l+i,u,-Math.PI+c,c,!g)):t.moveTo(d*s+n,p*s+i),t.arc(n,i,s,c,h,!g),t.arc(A*l+n,y*l+i,u,h-Math.PI*2,h-Math.PI,!g),o!==0&&t.arc(n,i,o,h,c,g)},e}(rt);const Be=ca;function ha(r,e){e=e||{};var t=e.isRoundCap;return function(a,n,i){var o=n.position;if(!o||o instanceof Array)return Ce(a,n,i);var s=r(o),u=n.distance!=null?n.distance:5,l=this.shape,c=l.cx,h=l.cy,g=l.r,f=l.r0,v=(g+f)/2,d=l.startAngle,p=l.endAngle,A=(d+p)/2,y=t?Math.abs(g-f)/2:0,m=Math.cos,x=Math.sin,b=c+g*m(d),S=h+g*x(d),_="left",I="top";switch(s){case"startArc":b=c+(f-u)*m(A),S=h+(f-u)*x(A),_="center",I="top";break;case"insideStartArc":b=c+(f+u)*m(A),S=h+(f+u)*x(A),_="center",I="bottom";break;case"startAngle":b=c+v*m(d)+X(d,u+y,!1),S=h+v*x(d)+$(d,u+y,!1),_="right",I="middle";break;case"insideStartAngle":b=c+v*m(d)+X(d,-u+y,!1),S=h+v*x(d)+$(d,-u+y,!1),_="left",I="middle";break;case"middle":b=c+v*m(A),S=h+v*x(A),_="center",I="middle";break;case"endArc":b=c+(g+u)*m(A),S=h+(g+u)*x(A),_="center",I="bottom";break;case"insideEndArc":b=c+(g-u)*m(A),S=h+(g-u)*x(A),_="center",I="top";break;case"endAngle":b=c+v*m(p)+X(p,u+y,!0),S=h+v*x(p)+$(p,u+y,!0),_="left",I="middle";break;case"insideEndAngle":b=c+v*m(p)+X(p,-u+y,!0),S=h+v*x(p)+$(p,-u+y,!0),_="right",I="middle";break;default:return Ce(a,n,i)}return a=a||{},a.x=b,a.y=S,a.align=_,a.verticalAlign=I,a}}function va(r,e,t,a){if(Ht(a)){r.setTextConfig({rotation:a});return}else if(W(e)){r.setTextConfig({rotation:0});return}var n=r.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,u,l=t(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=i;break;case"endAngle":case"insideEndAngle":u=o;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function X(r,e,t){return e*Math.sin(r)*(t?-1:1)}function $(r,e,t){return e*Math.cos(r)*(t?1:-1)}var ne=Math.max,ie=Math.min;function fa(r,e){var t=r.getArea&&r.getArea();if(ft(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var n=e.getLayout("bandWidth");a.isHorizontal()?(t.x-=n,t.width+=n*2):(t.y-=n,t.height+=n*2)}}return t}var ga=function(r){T(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,a,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,a,n):this._renderNormal(t,a,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,a){this._progressiveEls=[],this._incrementalRenderLarge(t,a)},e.prototype.eachRendered=function(t){Yt(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var a=t.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},e.prototype._renderNormal=function(t,a,n,i){var o=this.group,s=t.getData(),u=this._data,l=t.coordinateSystem,c=l.getBaseAxis(),h;l.type==="cartesian2d"?h=c.isHorizontal():l.type==="polar"&&(h=c.dim==="angle");var g=t.isAnimationEnabled()?t:null,f=da(t,l);f&&this._enableRealtimeSort(f,s,n);var v=t.get("clip",!0)||f,d=fa(l,s);o.removeClipPath();var p=t.get("roundCap",!0),A=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),m=y.get("borderRadius")||0,x=[],b=this._backgroundEls,S=i&&i.isInitSort,_=i&&i.type==="changeAxisOrder";function I(C){var k=U[l.type](s,C),M=Sa(l,h,k);return M.useStyle(y.getItemStyle()),l.type==="cartesian2d"?M.setShape("r",m):M.setShape("cornerRadius",m),x[C]=M,M}s.diff(u).add(function(C){var k=s.getItemModel(C),M=U[l.type](s,C,k);if(A&&I(C),!(!s.hasValue(C)||!Fe[l.type](M))){var E=!1;v&&(E=Ne[l.type](d,M));var w=Re[l.type](t,s,C,M,h,g,c.model,!1,p);f&&(w.forceLabelAnimation=!0),ze(w,s,C,k,M,t,h,l.type==="polar"),S?w.attr({shape:M}):f?Ve(f,g,w,M,C,h,!1,!1):V(w,{shape:M},t,C),s.setItemGraphicEl(C,w),o.add(w),w.ignore=E}}).update(function(C,k){var M=s.getItemModel(C),E=U[l.type](s,C,M);if(A){var w=void 0;b.length===0?w=I(k):(w=b[k],w.useStyle(y.getItemStyle()),l.type==="cartesian2d"?w.setShape("r",m):w.setShape("cornerRadius",m),x[C]=w);var At=U[l.type](s,C),bt=pt(h,At,l);G(w,{shape:bt},g,C)}var D=u.getItemGraphicEl(k);if(!s.hasValue(C)||!Fe[l.type](E)){o.remove(D);return}var J=!1;if(v&&(J=Ne[l.type](d,E),J&&o.remove(D)),D?Zt(D):D=Re[l.type](t,s,C,E,h,g,c.model,!!D,p),f&&(D.forceLabelAnimation=!0),_){var ye=D.getTextContent();if(ye){var Q=Xt(ye);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else ze(D,s,C,M,E,t,h,l.type==="polar");S?D.attr({shape:E}):f?Ve(f,g,D,E,C,h,!0,_):G(D,{shape:E},t,C,null),s.setItemGraphicEl(C,D),D.ignore=J,o.add(D)}).remove(function(C){var k=u.getItemGraphicEl(C);k&&_e(k,t,C)}).execute();var q=this._backgroundGroup||(this._backgroundGroup=new at);q.removeAll();for(var K=0;K<x.length;++K)q.add(x[K]);o.add(q),this._backgroundEls=x,this._data=s},e.prototype._renderLarge=function(t,a,n){this._clear(),He(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,a){this._removeBackground(),He(a,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var a=t.get("clip",!0)&&aa(t.coordinateSystem,!1,t),n=this.group;a?n.setClipPath(a):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,a,n){var i=this;if(a.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,t,n),this._isFirstFrame=!1;else{var s=function(u){var l=a.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,a,n){var i=[];return t.each(t.mapDimension(a.dim),function(o,s){var u=n(s);u=u??NaN,i.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:P(i,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,a,n){for(var i=n.scale,o=t.mapDimension(n.dim),s=Number.MAX_VALUE,u=0,l=i.getOrdinalMeta().categories.length;u<l;++u){var c=t.rawIndexOf(o,i.getRawOrdinalNumber(u)),h=c<0?Number.MIN_VALUE:a(t.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},e.prototype._isOrderDifferentInView=function(t,a){for(var n=a.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,a,n,i){if(this._isOrderChangedWithinSameData(t,a,n)){var o=this._dataSort(t,n,a);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,a,n){var i=a.baseAxis,o=this._dataSort(t,i,function(s){return t.get(t.mapDimension(a.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},e.prototype.remove=function(t,a){this._clear(this._model),this._removeOnRenderedListener(a)},e.prototype.dispose=function(t,a){this._removeOnRenderedListener(a)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var a=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){_e(i,t,de(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}($t),Ne={cartesian2d:function(r,e){var t=e.width<0?-1:1,a=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height);var n=r.x+r.width,i=r.y+r.height,o=ne(e.x,r.x),s=ie(e.x+e.width,n),u=ne(e.y,r.y),l=ie(e.y+e.height,i),c=s<o,h=l<u;return e.x=c&&o>n?s:o,e.y=h&&u>i?l:u,e.width=c?0:s-o,e.height=h?0:l-u,t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}var n=ie(e.r,r.r),i=ne(e.r0,r.r0);e.r=n,e.r0=i;var o=n-i<0;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}return o}},Re={cartesian2d:function(r,e,t,a,n,i,o,s,u){var l=new Y({shape:pe({},a),z2:1});if(l.__dataIndex=t,l.name="item",i){var c=l.shape,h=n?"height":"width";c[h]=0}return l},polar:function(r,e,t,a,n,i,o,s,u){var l=!n&&u?Be:ge,c=new l({shape:a,z2:1});c.name="item";var h=dt(n);if(c.calculateTextPosition=ha(h,{isRoundCap:l===Be}),i){var g=c.shape,f=n?"r":"endAngle",v={};g[f]=n?a.r0:a.startAngle,v[f]=a[f],(s?G:V)(c,{shape:v},i)}return c}};function da(r,e){var t=r.get("realtimeSort",!0),a=e.getBaseAxis();if(t&&a.type==="category"&&e.type==="cartesian2d")return{baseAxis:a,otherAxis:e.getOtherAxis(a)}}function Ve(r,e,t,a,n,i,o,s){var u,l;i?(l={x:a.x,width:a.width},u={y:a.y,height:a.height}):(l={y:a.y,height:a.height},u={x:a.x,width:a.width}),s||(o?G:V)(t,{shape:u},e,n,null);var c=e?r.baseAxis.model:null;(o?G:V)(t,{shape:l},c,n)}function Ge(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var pa=["x","y","width","height"],ma=["cx","cy","r","startAngle","endAngle"],Fe={cartesian2d:function(r){return!Ge(r,pa)},polar:function(r){return!Ge(r,ma)}},U={cartesian2d:function(r,e,t){var a=r.getItemLayout(e),n=t?xa(t,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*n/2,y:a.y+o*n/2,width:a.width-i*n,height:a.height-o*n}},polar:function(r,e,t){var a=r.getItemLayout(e);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function ya(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function dt(r){return function(e){var t=e?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+t;default:return a}}}(r)}function ze(r,e,t,a,n,i,o,s){var u=e.getItemVisual(t,"style");if(s){if(!i.get("roundCap")){var c=r.shape,h=Ut(a.getModel("itemStyle"),c,!0);pe(c,h),r.setShape(c)}}else{var l=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",l)}r.useStyle(u);var g=a.getShallow("cursor");g&&r.attr("cursor",g);var f=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",v=jt(a);qt(r,v,{labelFetcher:i,labelDataIndex:t,defaultText:Qr(i.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:f});var d=r.getTextContent();if(s&&d){var p=a.get(["label","position"]);r.textConfig.inside=p==="middle"?!0:null,va(r,p==="outside"?f:p,dt(o),a.get(["label","rotate"]))}Kt(d,v,i.getRawValue(t),function(y){return ea(e,y)});var A=a.getModel(["emphasis"]);Jt(r,A.get("focus"),A.get("blurScope"),A.get("disabled")),Qt(r,a),ya(n)&&(r.style.fill="none",r.style.stroke="none",L(r.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function xa(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(a,n,i)}var Aa=function(){function r(){}return r}(),We=function(r){T(e,r);function e(t){var a=r.call(this,t)||this;return a.type="largeBar",a}return e.prototype.getDefaultShape=function(){return new Aa},e.prototype.buildPath=function(t,a){for(var n=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<n.length;c+=3)u[i]=l,u[o]=n[c+2],s[i]=n[c+i],s[o]=n[c+o],t.rect(s[0],s[1],u[0],u[1])},e}(rt);function He(r,e,t,a){var n=r.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),u=r.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var c=new We({shape:{points:l},incremental:!!a,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),t&&t.push(c)}var h=new We({shape:{points:n.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=i,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(n.getVisual("style")),de(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",Ye),h.on("mousemove",Ye)),t&&t.push(h)}var Ye=er(function(r){var e=this,t=ba(e,r.offsetX,r.offsetY);de(e).dataIndex=t>=0?t:null},30,!1);function ba(r,e,t){for(var a=r.baseDimIdx,n=1-a,i=r.shape.points,o=r.largeDataIndices,s=[],u=[],l=r.barWidth,c=0,h=i.length/3;c<h;c++){var g=c*3;if(u[a]=l,u[n]=i[g+2],s[a]=i[g+a],s[n]=i[g+n],u[n]<0&&(s[n]+=u[n],u[n]=-u[n]),e>=s[0]&&e<=s[0]+u[0]&&t>=s[1]&&t<=s[1]+u[1])return o[c]}return-1}function pt(r,e,t){if(ft(t,"cartesian2d")){var a=e,n=t.getArea();return{x:r?a.x:n.x,y:r?n.y:a.y,width:r?a.width:n.width,height:r?n.height:a.height}}else{var n=t.getArea(),i=e;return{cx:n.cx,cy:n.cy,r0:r?n.r0:i.r0,r:r?n.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function Sa(r,e,t){var a=r.type==="polar"?ge:Y;return new a({shape:pt(e,t,r),silent:!0,z2:0})}const Ca=ga;function _a(r){r.registerChartView(Ca),r.registerSeriesModel(la),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Je(rr,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,tr("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,oa("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},function(n){e.sortInfo&&n.axis.setCategorySortInfo(e.sortInfo)})})}var La=function(r){T(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(nt);const Ma=La;var he=function(r){T(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",B).models[0]},e.type="cartesian2dAxis",e}(nt);ar(he,zr);var mt={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},wa=N({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},mt),me=N({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},mt),Da=N({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},me),Ta=j({logBase:10},me);const Ia={category:wa,value:me,time:Da,log:Ta};var ka={value:1,category:1,time:1,log:1};function Ze(r,e,t,a){L(ka,function(n,i){var o=N(N({},Ia[i],!0),a,!0),s=function(u){T(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+i,c}return l.prototype.mergeDefaultAndTheme=function(c,h){var g=nr(this),f=g?ir(c):{},v=h.getTheme();N(c,v.get(i+"Axis")),N(c,this.getDefaultOption()),c.type=Xe(c),g&&or(c,f,g)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=sr.createByAxisModel(this))},l.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+i,l.defaultOption=o,l}(t);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(e+"Axis",Xe)}function Xe(r){return r.type||(r.data?"category":"value")}var Ea=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return P(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),lr(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}();const Pa=Ea;var ve=["x","y"];function $e(r){return r.type==="interval"||r.type==="time"}var Oa=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ve,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!$e(t)||!$e(a))){var n=t.getExtent(),i=a.getExtent(),o=this.dataToPoint([n[0],i[0]]),s=this.dataToPoint([n[1],i[1]]),u=n[1]-n[0],l=i[1]-i[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,h=(s[1]-o[1])/l,g=o[0]-n[0]*c,f=o[1]-i[0]*h,v=this._transform=[c,0,0,h,g,f];this._invTransform=ur([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var a=this.getAxis("x"),n=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,a){var n=this.dataToPoint(t),i=this.dataToPoint(a),o=this.getArea(),s=new Le(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,a,n){n=n||[];var i=t[0],o=t[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Me(n,t,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return n[0]=s.toGlobalCoord(s.dataToCoord(i,a)),n[1]=u.toGlobalCoord(u.dataToCoord(o,a)),n},e.prototype.clampData=function(t,a){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),s=i.getExtent(),u=n.parse(t[0]),l=i.parse(t[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},e.prototype.pointToData=function(t,a){var n=[];if(this._invTransform)return Me(n,t,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),a),n[1]=o.coordToData(o.toLocalCoord(t[1]),a),n},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var a=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(a[0],a[1])-t,o=Math.min(n[0],n[1])-t,s=Math.max(a[0],a[1])-i+t,u=Math.max(n[0],n[1])-o+t;return new Le(i,o,s,u)},e}(Pa),Ba=function(r){T(e,r);function e(t,a,n,i,o){var s=r.call(this,t,a,n)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Jr);const Na=Ba;var oe=Math.log;function Ra(r,e,t){var a=cr.prototype,n=a.getTicks.call(t),i=a.getTicks.call(t,!0),o=n.length-1,s=a.getInterval.call(t),u=hr(r,e),l=u.extent,c=u.fixMin,h=u.fixMax;if(r.type==="log"){var g=oe(r.base);l=[oe(l[0])/g,oe(l[1])/g]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var f=a.getExtent.call(r);c&&(l[0]=f[0]),h&&(l[1]=f[1]);var v=a.getInterval.call(r),d=l[0],p=l[1];if(c&&h)v=(p-d)/o;else if(c)for(p=l[0]+v*o;p<l[1]&&isFinite(p)&&isFinite(l[1]);)v=re(v),p=l[0]+v*o;else if(h)for(d=l[1]-v*o;d>l[0]&&isFinite(d)&&isFinite(l[0]);)v=re(v),d=l[1]-v*o;else{var A=r.getTicks().length-1;A>o&&(v=re(v));var y=v*o;p=Math.ceil(l[1]/v)*v,d=O(p-y),d<0&&l[0]>=0?(d=0,p=O(y)):p>0&&l[1]<=0&&(p=0,d=-O(y))}var m=(n[0].value-i[0].value)/s,x=(n[o].value-i[o].value)/s;a.setExtent.call(r,d+v*m,p+v*x),a.setInterval.call(r,v),(m||x)&&a.setNiceExtent.call(r,d+v,p-v)}var Va=function(){function r(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ve,this._initCartesian(e,t,a),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model);function n(o){var s,u=yr(o),l=u.length;if(l){for(var c=[],h=l-1;h>=0;h--){var g=+u[h],f=o[g],v=f.model,d=f.scale;ue(d)&&v.get("alignTicks")&&v.get("interval")==null?c.push(f):(Te(d,v),ue(d)&&(s=f))}c.length&&(s||(s=c.pop(),Te(s.scale,s.model)),L(c,function(p){Ra(p.scale,p.model,s.scale)}))}}n(a.x),n(a.y);var i={};L(a.x,function(o){Ue(a,"y",o,i)}),L(a.y,function(o){Ue(a,"x",o,i)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,a){var n=e.getBoxLayoutParams(),i=!a&&e.get("containLabel"),o=vr(n,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;u(),i&&(L(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=fr(l);if(c){var h=l.isHorizontal()?"height":"width",g=l.model.get(["axisLabel","margin"]);o[h]-=c[h]+g,l.position==="top"?o.y+=c.height+g:l.position==="left"&&(o.x+=c.width+g)}}}),u()),L(this._coordsList,function(l){l.calcAffineTransform()});function u(){L(s,function(l){var c=l.isHorizontal(),h=c?[0,o.width]:[0,o.height],g=l.inverse?1:0;l.setExtent(h[g],h[1-g]),Ga(l,c?o.x:o.y)})}},r.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(a!=null)return a[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var a="x"+e+"y"+t;return this._coordsMap[a]}gr(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===e||i[n].getAxis("y").index===t)return i[n]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,a){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(a):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(e,t,a){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(a):n.axis?n.axis.coordToData(n.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,a=e.xAxisModel||t&&t.getReferringComponents("xAxis",B).models[0],n=e.yAxisModel||t&&t.getReferringComponents("yAxis",B).models[0],i=e.gridModel,o=this._coordsList,s,u;if(t)s=t.coordinateSystem,ae(o,s)<0&&(s=null);else if(a&&n)s=this.getCartesian(a.componentIndex,n.componentIndex);else if(a)u=this.getAxis("x",a.componentIndex);else if(n)u=this.getAxis("y",n.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,a){var n=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,L(s.x,function(c,h){L(s.y,function(g,f){var v="x"+h+"y"+f,d=new Oa(v);d.master=n,d.model=e,n._coordsMap[v]=d,n._coordsList.push(d),d.addAxis(c),d.addAxis(g)})});function l(c){return function(h,g){if(se(h,e)){var f=h.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var v=new Na(c,dr(h),[0,0],h.get("type"),f),d=v.type==="category";v.onBand=d&&h.get("boundaryGap"),v.inverse=h.get("inverse"),h.axis=v,v.model=h,v.grid=i,v.index=g,i._axesList.push(v),s[c][g]=v,u[c]++}}}},r.prototype._updateScale=function(e,t){L(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var i=n.model.get("categorySortInfo");n.scale.setSortInfo(i)}}),e.eachSeries(function(n){if(we(n)){var i=De(n),o=i.xAxisModel,s=i.yAxisModel;if(!se(o,t)||!se(s,t))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=n.getData(),c=u.getAxis("x"),h=u.getAxis("y");a(l,c),a(l,h)}},this);function a(n,i){L(pr(n,i.dim),function(o){i.scale.unionExtentFromData(n,o)})}},r.prototype.getTooltipAxes=function(e){var t=[],a=[];return L(this.getCartesians(),function(n){var i=e!=null&&e!=="auto"?n.getAxis(e):n.getBaseAxis(),o=n.getOtherAxis(i);ae(t,i)<0&&t.push(i),ae(a,o)<0&&a.push(o)}),{baseAxes:t,otherAxes:a}},r.create=function(e,t){var a=[];return e.eachComponent("grid",function(n,i){var o=new r(n,e,t);o.name="grid_"+i,o.resize(n,t,!0),n.coordinateSystem=o,a.push(o)}),e.eachSeries(function(n){if(we(n)){var i=De(n),o=i.xAxisModel,s=i.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;n.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=ve,r}();function se(r,e){return r.getCoordSysModel()===e}function Ue(r,e,t,a){t.getAxesOnZeroOf=function(){return i?[i]:[]};var n=r[e],i,o=t.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)je(n[u])&&(i=n[u]);else for(var l in n)if(n.hasOwnProperty(l)&&je(n[l])&&!a[c(n[l])]){i=n[l];break}i&&(a[c(i)]=!0);function c(h){return h.dim+"_"+h.index}}function je(r){return r&&r.type!=="category"&&r.type!=="time"&&mr(r)}function Ga(r,e){var t=r.getExtent(),a=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(n){return n+e}:function(n){return a-n+e},r.toLocalCoord=r.dim==="x"?function(n){return n-e}:function(n){return a-n+e}}const Fa=Va;var fe=Qe();function za(r,e,t,a){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),u=a.coordinateSystem.getRect(),l=n.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var c=s.length,h=fe(r).splitAreaColors,g=le(),f=0;if(h)for(var v=0;v<l.length;v++){var d=h.get(l[v].tickValue);if(d!=null){f=(d+(c-1)*v)%c;break}}var p=n.toGlobalCoord(l[0].coord),A=o.getAreaStyle();s=W(s)?s:[s];for(var v=1;v<l.length;v++){var y=n.toGlobalCoord(l[v].coord),m=void 0,x=void 0,b=void 0,S=void 0;n.isHorizontal()?(m=p,x=u.y,b=y-m,S=u.height,p=m+b):(m=u.x,x=p,b=u.width,S=y-x,p=x+S);var _=l[v-1].tickValue;_!=null&&g.set(_,f),e.add(new Y({anid:_!=null?"area_"+_:null,shape:{x:m,y:x,width:b,height:S},style:j({fill:s[f]},A),autoBatch:!0,silent:!0})),f=(f+1)%c}fe(r).splitAreaColors=g}}}function Wa(r){fe(r).splitAreaColors=null}var Ha=["axisLine","axisTickLabel","axisName"],Ya=["splitArea","splitLine","minorSplitLine"],yt=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,a,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new at,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),u=xr(s,t),l=new Ar(t,pe({handleAutoShown:function(h){for(var g=s.coordinateSystem.getCartesians(),f=0;f<g.length;f++)if(ue(g[f].getOtherAxis(t.axis).scale))return!0;return!1}},u));L(Ha,l.add,l),this._axisGroup.add(l.getGroup()),L(Ya,function(h){t.get([h,"show"])&&Za[h](this,this._axisGroup,t,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||br(o,this._axisGroup,t),r.prototype.render.call(this,t,a,n,i)}},e.prototype.remove=function(){Wa(this)},e.type="cartesianAxis",e}(Sr),Za={splitLine:function(r,e,t,a){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=W(s)?s:[s];for(var u=a.coordinateSystem.getRect(),l=n.isHorizontal(),c=0,h=n.getTicksCoords({tickModel:i}),g=[],f=[],v=o.getLineStyle(),d=0;d<h.length;d++){var p=n.toGlobalCoord(h[d].coord);l?(g[0]=p,g[1]=u.y,f[0]=p,f[1]=u.y+u.height):(g[0]=u.x,g[1]=p,f[0]=u.x+u.width,f[1]=p);var A=c++%s.length,y=h[d].tickValue,m=new Ie({anid:y!=null?"line_"+h[d].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:f[0],y2:f[1]},style:j({stroke:s[A]},v),silent:!0});ke(m.shape,v.lineWidth),e.add(m)}}},minorSplitLine:function(r,e,t,a){var n=t.axis,i=t.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=a.coordinateSystem.getRect(),u=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],h=[],g=o.getLineStyle(),f=0;f<l.length;f++)for(var v=0;v<l[f].length;v++){var d=n.toGlobalCoord(l[f][v].coord);u?(c[0]=d,c[1]=s.y,h[0]=d,h[1]=s.y+s.height):(c[0]=s.x,c[1]=d,h[0]=s.x+s.width,h[1]=d);var p=new Ie({anid:"minor_line_"+l[f][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:g,silent:!0});ke(p.shape,g.lineWidth),e.add(p)}},splitArea:function(r,e,t,a){za(r,e,t,a)}},xt=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(yt),Xa=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=xt.type,t}return e.type="yAxis",e}(yt),$a=function(r){T(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new Y({shape:t.coordinateSystem.getRect(),style:j({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Cr),qe={offset:0};function Ua(r){r.registerComponentView($a),r.registerComponentModel(Ma),r.registerCoordinateSystem("cartesian2d",Fa),Ze(r,"x",he,qe),Ze(r,"y",he,qe),r.registerComponentView(xt),r.registerComponentView(Xa),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function ja(r){ce(Ua),ce(_r)}ce([_a,wr,ja,Dr,Tr,Ir,kr,Er]);const qa={name:"TagScoresChart",data(){return{cur_tag_id:0,chart_option:{xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"bar",data:[],color:[]}]}}},computed:{...St(Ct,{actor_tag_list:"sorted_list"})},methods:{async onCheckedTagChange(){const[r,e]=await Lr(this.cur_tag_id);r&&this.refreshChart(e)},refreshChart(r){this.chart_option.series[0].data=r,Mr(document.getElementById("tag_scores")).setOption(this.chart_option)},initChartOption(){const r=[],e=[];for(let t=0;t<11;t++)e.push(t),r.push(Pr[Math.ceil(t/2)]);this.chart_option.series[0].color=r,this.chart_option.xAxis.data=e}},mounted(){this.initChartOption()}},Ka=Tt("div",{id:"tag_scores",style:{width:"640px",height:"420px"}},null,-1);function Ja(r,e,t,a,n,i){const o=Z("el-text"),s=Z("el-option"),u=Z("el-select"),l=Z("el-space");return ee(),xe(l,{direction:"vertical",alignment:"flex-start"},{default:te(()=>[Ae(o,{style:{"font-size":"24px"}},{default:te(()=>[Lt(" Choose Tag ")]),_:1}),Ae(u,{modelValue:n.cur_tag_id,"onUpdate:modelValue":e[0]||(e[0]=c=>n.cur_tag_id=c),onChange:i.onCheckedTagChange,style:{width:"120px"},filterable:"",clearable:""},{default:te(()=>[(ee(!0),Mt(Dt,null,wt(r.actor_tag_list,c=>(ee(),xe(s,{key:c.tag_id,label:c.tag_name,value:c.tag_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),Ka]),_:1})}const an=_t(qa,[["render",Ja]]);export{an as default};
